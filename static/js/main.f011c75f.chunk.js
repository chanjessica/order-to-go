(this["webpackJsonporder-to-go"]=this["webpackJsonporder-to-go"]||[]).push([[0],{34:function(e,t,a){e.exports=a(63)},49:function(e,t,a){},50:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(5),l=a.n(n);a(44);l.a.initializeApp({apiKey:"AIzaSyC_2cgHigATkbQObBKKzuhkSWz-40iMgX8",authDomain:"jsweek62020.firebaseapp.com",projectId:"jsweek62020"});var o=a(0),c=a.n(o),r=a(30),i=a.n(r),s=(a(49),a(19)),u=a(4),m=(a(50),function(){return c.a.createElement("h1",null,"Page Not Found!  Please contact your Administrator")}),d=a(12),h=a(13),p=a(15),E=a(14),f=l.a.firestore(),g=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1,entries:[]},e.buyIt=function(t){return function(a){console.log(l.a.auth().currentUser.uid);var n=null!=l.a.auth().currentUser.uid;e.setState({isSignedIn:n}),console.log(n),console.log(t),a.preventDefault();var o=l.a.auth().currentUser.uid;console.log(o),f.collection("clients").doc(o).collection("foodToGo").add({orderDate:new Date,dish:t.dish,price:t.price})}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribe=f.collection("foodToGo").onSnapshot((function(t){e.setState({entries:t.docs})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"render",value:function(){var e=this;console.log(this.state.isSignedIn);var t=this.state.entries.map((function(t){return c.a.createElement("tr",{key:t.id},c.a.createElement("td",null," ",t.data().dish," "),c.a.createElement("td",null," $",t.data().price),c.a.createElement("td",null,"  ",c.a.createElement("button",{onClick:e.buyIt(t.data()),type:"submit"},"order it")," "))}));return c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Entry"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null))),c.a.createElement("tbody",null,t))}}]),a}(c.a.Component),v=l.a.firestore(),b=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={isSignedIn:!1,uid:" ",checkout:[],profile:[]},e.deleteOrder=function(t){return function(a){console.log(t),a.preventDefault(),v.collection("clients").doc(e.state.uid).collection("foodToGo").doc(t).delete()}},e.placeOrder=function(e){return function(t){alert("total cost ".concat(e)),t.preventDefault()}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=l.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t}),console.log(e.state.isSignedIn),console.log(t),console.log(e.props.history),t&&(e.setState({uid:l.a.auth().currentUser.uid}),console.log(e.state.uid),e.unsubscribe=v.collection("clients").doc(e.state.uid).collection("foodToGo").onSnapshot((function(t){e.setState({checkout:t.docs})})))}))}},{key:"render",value:function(){var e=this;console.log(l.a.auth().currentUser),console.log(this.state.checkout);var t=this.state.checkout.map((function(t){return c.a.createElement("li",{key:t.id},t.data().dish,"    $",t.data().price,c.a.createElement("button",{onClick:e.deleteOrder(t.id),type:"button",className:"btn-info btn-xs float-right"}," Remove"))})),a=this.state.checkout.reduce((function(e,t){return parseFloat(e)+parseFloat(t.data().price)}),0).toFixed(2);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,"Your Cart:"),c.a.createElement("ol",null,t),c.a.createElement("div",{className:"total"},c.a.createElement("h5",null,"Total = $",a,c.a.createElement("button",{onClick:this.placeOrder(a),type:"button",className:"btn btn-xs btn-warning float-right"},"Place Order"))))}}]),a}(c.a.Component),k=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return console.log(l.a.auth().currentUser),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("h1",null,"Select From the Menu"),c.a.createElement("div",{className:"col-md-8"},c.a.createElement(g,null)),c.a.createElement("div",{className:"col-md-4"},c.a.createElement(b,null))))}}]),a}(c.a.Component),y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"mt-4 text-center"},"Happy Kitchen"),c.a.createElement("div",{id:"food",className:"carousel slide   justify-content-center","data-ride":"carousel"},c.a.createElement("ul",{className:"carousel-indicators"},c.a.createElement("li",{"data-target":"#food","data-slide-to":"0",className:"active"}),c.a.createElement("li",{"data-target":"#food","data-slide-to":"1"}),c.a.createElement("li",{"data-target":"#food","data-slide-to":"2"})),c.a.createElement("div",{className:"carousel-inner"},c.a.createElement("div",{className:"carousel-item active justify-content-center"},c.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-1.jpg",alt:"food 1"}),c.a.createElement("div",{className:"carousel-caption"},c.a.createElement("h3",null,"Kung Po Chicken"))),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-2.jpg",alt:"food 2"}),c.a.createElement("div",{className:"carousel-caption"},c.a.createElement("h3",null,"Mongolian Beef"))),c.a.createElement("div",{className:"carousel-item"},c.a.createElement("img",{className:"d-block mx-auto",src:"https://lorempixel.com/output/food-q-c-640-480-3.jpg",alt:"food 3"}),c.a.createElement("div",{className:"carousel-caption"},c.a.createElement("h3",null,"Twice Cooked Pork")))),c.a.createElement("a",{className:"carousel-control-prev text-warning",href:"#food","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon"})),c.a.createElement("a",{className:"carousel-control-next text-warning",href:"#food","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon"}))))},N=a(31),O=a.n(N),j={signInFlow:"popup",signInSuccessUrl:"/menu",signInOptions:[l.a.auth.EmailAuthProvider.PROVIDER_ID]},x=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null," Please Login  "),c.a.createElement("p",null," Sign In:"),c.a.createElement(O.a,{uiConfig:j,firebaseAuth:l.a.auth()}))}}]),a}(c.a.Component);var S=function(){return console.log(l.a.auth().currentUser),l.a.auth().signOut(),console.log(l.a.auth().currentUser),c.a.createElement("div",null,"successful logout")},w=function(){return c.a.createElement("div",{className:"nav"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(s.b,{exact:!0,to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/menu"},"Menu")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/login"},"Login")),c.a.createElement("li",null,c.a.createElement(s.b,{to:"/logout"},"Logout"))))};var I=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(s.a,null,c.a.createElement("header",{className:"App-header"}," ",c.a.createElement(w,null)),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:y}),c.a.createElement(u.a,{exact:!0,path:"/login",component:x}),c.a.createElement(u.a,{exact:!0,path:"/logout",component:S}),c.a.createElement(u.a,{exact:!0,path:"/menu",component:k}),c.a.createElement(u.a,{path:"*",component:m}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.f011c75f.chunk.js.map